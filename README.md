
# 빨(8)리 잡아 - FastCatch
## 팀 - 이거 다 되면 8조?!
**프론트엔드** : 어준혁, 고솔미, 윤태관, 이예인, 정범환

**백엔드** : 박주현, 김현아, 이의인, 정병주
***
### 백엔드 팀원 소개 및 역할
|                            박주현                             |                            김현아                            |                            이의인                            |                            정병주                             |
|:----------------------------------------------------------:|:---------------------------------------------------------:|:---------------------------------------------------------:|:----------------------------------------------------------:|
|                            👑팀장                            |                            팀원                             |                            팀원                             |                             팀원                             |
|    [Programmer-may](https://github.com/Programmer-may)     |            [decten](https://github.com/decten)            |         [dldmldlsy](https://github.com/dldmldlsy)         |     [JeongByungJoo](https://github.com/JeongByungJoo)      |
| ![](https://avatars.githubusercontent.com/u/114227320?v=4) | ![](https://avatars.githubusercontent.com/u/52107658?v=4) | ![](https://avatars.githubusercontent.com/u/76683396?v=4) | ![](https://avatars.githubusercontent.com/u/129931655?v=4) |
|               숙박 도메인 API<br/>프로젝트 전체 인프라 구축                |                장바구니 도메인 API<br/>OpenAPI 연동                |           주문 도메인 API<br/>Spring Security 회원API            |                         회원 도메인 API                         |
공통 : API 명세서 작성, 테이블 설계, 팀 노션페이지 작성 및 정리, 단위/통합 테스트 코드 작성
***
## 🚩 개요
**프로젝트 내용**: 숙박 예약 서비스

**프로젝트 주제 및 필수 구현 기능 제안**: 야놀자

**프로젝트 목적**: 팀 협업, RESTful API 개발

**프로젝트 기간**: 2023년 11월 20일 (월) ~ 12월 01일(금)

### 기술 스택

- **언어**: Java 17
- **개발 환경**: IntelliJ, Gradle, Spring Boot 3
- **라이브러리**: Spring Web, Spring Security, JPA, JUnit5, Lombok, JWT
- **CI/CD**: GitHub Actions, AWS EC2, AWS RDS

### 프로젝트 파이프라인
![최종배포파이프라인.png](%EC%B5%9C%EC%A2%85%EB%B0%B0%ED%8F%AC%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8.png)

### 로컬 데이터베이스 H2 접속 경로

1. http://localhost:8080/h2-console 에 들어간다.
2. 아래 정보대로 입력 칸을 채우고 Connect를 누른다.

- Driver Class: org.h2.Driver
- JDBC URL: jdbc:h2:mem:testdb
- User Name: sa
- Password: (빈칸)

# ⚖️ 컨벤션

----

### 1. 코딩 컨벤션

- 커스텀 구글 코딩 컨벤션을 사용합니다.

### 2. API 설계
![최종API명세.png](%EC%B5%9C%EC%A2%85API%EB%AA%85%EC%84%B8.png)

### 3. Git Flow

- 브랜치 전략으로 Git Flow를 사용합니다.
- 도메인 구현 및 설계는 모든 팀원의 Approve를 받아야 Merge 할 수 있습니다.

### <브랜치별 역할>

### `feature/#`

- 실제 작업을 하는 브랜치
- 이슈 번호가 1이라면 feature/1로 만들면 된다.
- 'develop'을 베이스 브랜치로 하여 만들어야 한다.
    - ( 브랜치 생성은 베이스 브랜치[ 체크아웃되어있는 브랜치 ]를 기준으로 만들어진다.)
- 작업이 완료되면 develop으로 Pull Request를 날린다.
- 본인을 제외한 조원의 Approve를 모두 받았다면 Merge한다.

### `develop`

- 테스트 서버에 자동 배포되는 브랜치
- 다음 버전 개발을 위해 release으로 가기 전 기능 코드들을 모아두는 브랜치
- 작성한 기능이 잘 작동되는지 확인하고, release으로 PR 및 Merge를 하면 된다.
- develop으로 Merge 하고 나서 자동 배포된 테스트 서버에서 자신의 API가 정상 작동하는지 꼭 테스트해야 한다.

### `release`

- 실제 서비스를 운영할 수 있는 메인 서버 자동 배포되는 브랜치
- release으로 Merge 하고 나서 자동 배포된 메인 서버에서 자신의 API가 정상 작동하는지 꼭 테스트해야 한다.

### `hotfix`

- 서버에서 테스트 후 오류가 발견됐을 때 바로 수정해서 Merge 할 수 있는 브랜치
- `hotfix/이슈번호`로 생성

### `main`

- 최종본을 갖는 브랜치

### 4. 테스트 코드

- **Service**: 단순 Repository 메서드 호출 이상의 로직을 수행하는 메서드에 대해 테스트 코드 작성
- **Controller**: public 메서드 테스트 코드 작성

### 5. 성공/오류 코드 번호

- **200** : 모든 성공
- **400** : 클라이언트가 입력을 잘못한 경우
- **401** : 인증 정보가 없는 경우
- **403** : 접근 권한이 없는 경우
- **500** : 서버 내부 에러

### 6. 기타 합의사항

- **협업 관련**
    - 정기 오프라인 회의 
    - 데일리 스크럼: 매일 오전 10:00 노션에 진행상황 공유
    - Discord 에서 프론트 및 백 회의사항 공유, 서로간의 질문사항 & 건의사항 소통
      <br><br>
- **커밋 메시지 관련**
    - 커밋 제목은 `prefix: 커밋 메시지` 형태로 합니다.
    - prefix의 목록과 각각의 용도는 IntelliJ 플러그인에서 볼 수 있습니다.
    - IntelliJ 플러그인 적용법: https://blog.naver.com/rinjyu/222157082860
    - 커밋 내용을 자세하게 적습니다. (커밋 제목과 내용만 보더라도 코드 내용이 파악 가능할 정도로)

# 📋 기획안

---
## 프로젝트 기획안
https://www.notion.so/de2e6a881c0f4d96a80ab3c9dcbd9d79

노션 페이지에서 프론트 엔드 분들과 협의하면서 기획안을 채워 나갔고, 과정 중간중간 바뀐 사항들 있으면 수정하였습니다.

## ERD
![mini_project_8_최종_erd설계.png](mini_project_8_%EC%B5%9C%EC%A2%85_erd%EC%84%A4%EA%B3%84.png)

## API 설계
https://www.notion.so/API-1184491c69bc4d29b291226f3894fdcf

(기능 클릭하면 Request, Response 등 상세한 설명을 보실 수 있습니다.)

프론트 엔드 분들과 오프라인 미팅에서 함께 이야기 나누어 작성하였습니다.

## BackEnd 개발 규칙
https://www.notion.so/Back-End-ba05c1f6e5eb4a2ab97cf8792f2cc913

팀원들과 함께 지킬 규칙들을 정하여 문서화 시켰습니다.


### 초기 실행화면
![초기실행화면.png](resultImage%2F%EC%B4%88%EA%B8%B0%EC%8B%A4%ED%96%89%ED%99%94%EB%A9%B4.png)

### 숙박 개별조회
![숙박개별조회.png](resultImage%2F%EC%88%99%EB%B0%95%EA%B0%9C%EB%B3%84%EC%A1%B0%ED%9A%8C.png)

### 숙박 전체조회
![숙박전체조회.png](resultImage%2F%EC%88%99%EB%B0%95%EC%A0%84%EC%B2%B4%EC%A1%B0%ED%9A%8C.png)

### 숙박 조회시 종료일시가 시작일시 보다 빠를 때
![종료일시가 시작일시보다 빠를때.png](resultImage%2F%EC%A2%85%EB%A3%8C%EC%9D%BC%EC%8B%9C%EA%B0%80%20%EC%8B%9C%EC%9E%91%EC%9D%BC%EC%8B%9C%EB%B3%B4%EB%8B%A4%20%EB%B9%A0%EB%A5%BC%EB%95%8C.png)

### 숙박 조회시 시작일시가 과거의 날짜일 때
![시작일시가 과거일때.png](resultImage%2F%EC%8B%9C%EC%9E%91%EC%9D%BC%EC%8B%9C%EA%B0%80%20%EA%B3%BC%EA%B1%B0%EC%9D%BC%EB%95%8C.png)

### 회원가입
![회원가입.png](resultImage%2F%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85.png)

### 회원 정보 수정
![회원정보수정.png](resultImage%2F%ED%9A%8C%EC%9B%90%EC%A0%95%EB%B3%B4%EC%88%98%EC%A0%95.png)

### 회원 조회
![회원조회.png](resultImage%2F%ED%9A%8C%EC%9B%90%EC%A1%B0%ED%9A%8C.png)

### 로그인
![로그인.png](resultImage%2F%EB%A1%9C%EA%B7%B8%EC%9D%B8.png)

### 장바구니 아이템 등록
![장바구니 아이템 등록.png](resultImage%2F%EC%9E%A5%EB%B0%94%EA%B5%AC%EB%8B%88%20%EC%95%84%EC%9D%B4%ED%85%9C%20%EB%93%B1%EB%A1%9D.png)

### 장바구니 조회
![장바구니 조회.png](resultImage%2F%EC%9E%A5%EB%B0%94%EA%B5%AC%EB%8B%88%20%EC%A1%B0%ED%9A%8C.png)

### 장바구니 삭제
![장바구니 삭제.png](resultImage%2F%EC%9E%A5%EB%B0%94%EA%B5%AC%EB%8B%88%20%EC%82%AD%EC%A0%9C.png)

### 주문 생성
![주문 생성.png](resultImage%2F%EC%A3%BC%EB%AC%B8%20%EC%83%9D%EC%84%B1.png)

### 주문 목록 조회
![주문목록조회성공.png](resultImage%2F%EC%A3%BC%EB%AC%B8%EB%AA%A9%EB%A1%9D%EC%A1%B0%ED%9A%8C%EC%84%B1%EA%B3%B5.png)

### 로그인 안 했을시 주문 목록 조회 실패
![로그인안했을시 주문목록조회 실패.png](resultImage%2F%EB%A1%9C%EA%B7%B8%EC%9D%B8%EC%95%88%ED%96%88%EC%9D%84%EC%8B%9C%20%EC%A3%BC%EB%AC%B8%EB%AA%A9%EB%A1%9D%EC%A1%B0%ED%9A%8C%20%EC%8B%A4%ED%8C%A8.png)

### 주문 취소
![주문 취소.png](resultImage%2F%EC%A3%BC%EB%AC%B8%20%EC%B7%A8%EC%86%8C.png)

----

## 🖥 평가항목 별 커멘트

---

| 구분          | 내용                                                                                                                                                                                                |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 프로젝트 관리     | **일정을 설정하고 업무를 효과적으로 분배하고 관리했는가?.**                                                                                                                                                               |
|             | -> 네, 초기 프론트, 백 미팅시 도메인 설계와 구현의 기간을 잡아두고 노션에서 API 별마다 진행사항을 체크하고, 디스코드에 해당 도메인 별로 프로트 백끼리 소통하며 일정을 맞춰 진행하였습니다.                                                                                    |
|             | **일정 계획 및 관리, 업무 분배, 이슈 관리 등 프로젝트 관리에 충실히 노력했는가?**                                                                                                                                                |
|             | -> 매일 아침 10시 데일리 스크럼도 진행하고, 아침 회의 후엔 프론트, 백 각자의 내용을 정리하여 디스코드 공지방에 질문사항고 건의사항을 남겨 일정을 관리했습니다. 또한 깃허브의 이슈등록을 하여 모든 이슈를 처리하였고, 팀원에게 알맞은 업무를 분해하였습니다.                                                |
| 설계          | **사용자 경험(UX)을 고려한 사용자 친화적인 인터페이스(UI)로 사용에 어색함 또는 불편함이 없는가?**                                                                                                                                      |
|             | -> 네, 야놀자와 여타 숙박 서비스 플랫폼을 벤치마킹하여 UX/UI를 사용자 친화적으로 만들었습니다.                                                                                                                                         |
|             | **API 문서에 모든 기능을 포함하고, Request/Response 에 대해 명확히 설명하였는가**                                                                                                                                         |
|             | -> 네, 노션에 직접 API 명세서를 작성하였고, 요청과 응답에 대해 작성하였습니다..                                                                                                                                                 |
|             | **데이터베이스 테이블 간 연관관계를 적절히 설정하였는가**                                                                                                                                                                 |
|             | -> 네, 각 엔티티 마다 알맞은 연관관계를 생각하여 설계했습니다.                                                                                                                                                             |
| 기능          | **Spring Security 의 인증/인가를 활용하여 회원가입/로그인 기능을 구현하였는가**                                                                                                                                             ||
|             | → 네. Spring Security를 이용해서 회원가입과 로그인 기능을 구현하였습니다. 회원가입을 할 때는 PasswordEncoder를 이용해서 회원 비밀번호를 암호화해주었고, 로그인을 할 때는 JWT를 이용해 토큰을 넘겨주도록 구현하였습니다. 또 PrincipalDetails클래스를 만들어 인증된 사용자의 정보를 저장해놓도록 구현했습니다. |
|             | **프론트엔드에서 필요한 유효성 검사가 1 개 이상 고려되었는가**                                                                                                                                                             |
|             | -> 네 프론트 쪽에서 필요한 유효성 검사가 1개 이상 이루어졌고, 백엔드에서도 막아주도록 유효성 검사를 실시했습니다.                                                                                                                                |
|             | **이메일, 비밀번호, 이름을 포함한 정보로 회원 가입 기능이 구현되었는가**                                                                                                                                                       |
|             | -> 네, 이메일, 비밀번호, 이름 뿐만아니라 서비스에 필요한 정보까지 포함하여 회원가입 기능을 만들었습니다.                                                                                                                                     |
|             | **이메일과 비밀번호로 로그인 기능이 구현되었는가**                                                                                                                                                                     |
|             | -> 로그인시 입력된 이메일을 통해 회원과 회원의 비밀번호를 조회해서 비교하고 로그인에 성공하게 되면, JWT 토큰을 생성하고 토큰을 응답에 담아 보내줍니다.                                                                                                          |
|             | **숙박 상품 전체 조회 기능이 정상적으로 구현되었는가**                                                                                                                                                                  |
|             | → 네, 상품을 전체 조회는 인피니티 스크롤을 사용하여 구현했으며, 전체 조회도 가능하고, 카테고리, 지역 등 분류를 정하여 전체 검색도 가능합니다.                                                                                                               |
|             | **숙박 상품 개별 조회 기능이 정상적으로 구현되었는가**                                                                                                                                                                  |
|             | → 네. 숙박 상품의 id를 통하여 날짜와 함께 요청을 받으면 그날 숙박의 객실의 품절여부를 확인가능하며, 가격, 정보등을 확인할 수 있습니다.                                                                                                                  |
|             | **장바구니(담기, 보기) 기능이 정상적으로 구동되는가**                                                                                                                                                                  |
|             | → 네. 장바구니에 객실을 담을 수도 있고, 내 장바구니를 확인하는 기능도 모두 구현하였습니다.                                                                                                                                             |
|             | **주문하기 기능이 정상적으로 구동되는가**                                                                                                                                                                          |
|             | → 네. 주문하기 기능을 구현하습니다.                                                                                                                                                                             |
|             | **결제하기 기능이 정상적으로 구동되는가**                                                                                                                                                                          |
|             | → 네, 결제가 완료되면 추후 결제한 아이템의 상태 또한 관리하였습니다.(사용완료, 취소)                                                                                                                                                |
|             | **결제하기가 성공할 경우, 주문 결과를 확인할 수 있는가**                                                                                                                                                                |
|             | → 네 결제하기를 한 후엔 내 주문 목록을 확인할 수 있는 기능을 구현하였습니다.                                                                                                                                                     |
| 프로젝트 완성도    | **Open API 의 데이터를 검증하고 적절하게 활용하였는가**                                                                                                                                                              |
|             | → 네. 야놀자 RFP 에서 제공한 visitKorea 사이트의 검증된 자료를 가져다 몇가지 필드들만 추가하여 사용하였습니다.                                                                                                                            |
|             | **화면 컴포넌트 단위는 적절한가**                                                                                                                                                                              |
|             | → 네. 기능별로 적절한 컴포넌트 단위를 사용하였습니다.                                                                                     |
|             | **코드 품질과 안정성을 고려하여 테스트 케이스를 작성하고 테스트를 수행했는가?**                                                                                                                                                    |
|             | → 네 도메인당 1개 이상의 테스트 코드를 작성하였고, 도메인 구현자가 필수로 확인해봐야겠다는 로직이나 기능들은 필히 테스트 코드를 작성하여 확인하였습니다.                                                                                                           |
| 협업 및 커뮤니케이션 | **협업 도구와 팀원들 간의 원활한 커뮤니케이션을 얼마나 잘 이끌어 나갔는가?**                                                                                                                                                     |
|             | → 네, zep에서 서로 화면을 공유하며 이슈가 생긴 문제가 대해 토론을 나누었고, 풀리지 않은 궁금증은 멘토링 사전요청서에 잘 작성하여 멘토님께 질문도 남겼습니다. 또한 디스코드 툴을 이용하여 온라인 상에서도 모여 서로의 궁금증과 문제들을 공유해 가며 이슈를 해결하였습니다.                                        |
|             | **팀원들과의 원활한 커뮤니케이션과 정보 공유를 수행했는가?**                                                                                                                                                               |
|             | → 네, 서로의 부족한 부분에 대하여 인사이트를 나누고 막히는 문제에 대해선 서로간의 방법론을 공유하며, 함께 성장하는 시간을 가졌습니다.                                                                                                                     |

